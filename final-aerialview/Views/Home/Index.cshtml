@{
    ViewData["Title"] = "Home Page";
}


@* to open new page on starting of the project  *@
<script>
    // window.onload = function () {
    //     var isNewTabOpened = '@ViewBag.IsNewTabOpened' === 'True';
    //     var localStorageFlag = localStorage.getItem('IsNewTabOpened');

    //     if (!isNewTabOpened && !localStorageFlag) {
    //         var newTabPageUrl = '@Url.Action("DefaultDashboard", "DefaultDashViewer", new { page = "DefaultDashboard" })';
    //         var newTab = window.open(newTabPageUrl, '_blank');
    //         newTab.focus();

    //         // Set local storage flag to prevent reopening the tab
    //         localStorage.setItem('IsNewTabOpened', 'True');
    //     }
    // };

        // window.onload = function () {
        //     var newTabPageUrl = '@Url.Action("DefaultDashboard", "DefaultDashViewer", new { page = "DefaultDashboard" })';

        //     // Open a new window with the generated URL
        //     const openedWindow = window.open(
        //         newTabPageUrl,
        //         "DefaultDashboard",
        //         "width=1500,height=900,resizable,scrollbars"
        //     );

        // };

        let openedWindow;

window.onload = function () {
    var newTabPageUrl = '@Url.Action("DefaultDashboard", "DefaultDashViewer", new { page = "DefaultDashboard" })';

    // Open a new window with the generated URL and store the reference
    openedWindow = window.open(
        newTabPageUrl,
        "DefaultDashboard",
        "width=1500,height=900,resizable,scrollbars"
    );
};

// Add an event listener for the unload event to close the opened window
window.addEventListener('unload', function () {
    if (openedWindow) {
        openedWindow.close(); // Close the opened window
    }
});


</script>



